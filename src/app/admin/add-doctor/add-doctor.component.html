<div class="container">

  <h1>Add doctor</h1>

    <div *ngIf="!loading" class="col-sm-4 offset-4">

      <div class="alert alert-danger" *ngIf="errorMessage" style="padding: 10px;">
        {{errorMessage}}
      </div>
      <div class="alert alert-success" *ngIf="message" style="padding: 10px;">
        {{message}}
      </div>

      <form [formGroup]="form" (ngSubmit)="addDoctor()">

        <div class="form-group">
          <label for="name">Name</label>
          <input type="text"
                 id="name"
                 class="form-control"
                 formControlName="nameCtrl"
                 [formGroup]="form"
                 placeholder="John Doe">
        </div>
        <div *ngIf="form.controls['nameCtrl'].touched && !form.controls['nameCtrl'].valid">
          <div class="alert alert-danger" *ngIf="form.controls['nameCtrl'].hasError('required')">
            First name is required.
          </div>
          <div class="alert alert-danger" *ngIf="form.controls['nameCtrl'].hasError('minlength')">
            First name must contain at least 5 characters.
          </div>
        </div>

        <div class="form-group">
          <label for="username">Username</label>
          <input type="text"
                 id="username"
                 class="form-control"
                 formControlName="usernameCtrl"
                 [formGroup]="form"
                 placeholder="Doctor's username">
        </div>
        <div *ngIf="form.controls['usernameCtrl'].touched && !form.controls['usernameCtrl'].valid">
          <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('required')">
            Username is required.
          </div>
          <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('minlength')">
            Username must contain at least 3 characters
          </div>
          <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('maxlength')">
            Username can not be longer than 30 characters.
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password"
                 class="form-control"
                 id="password"
                 formControlName="passwordCtrl"
                 [formGroup]="form"
                 placeholder="Doctor's password">
        </div>
        <div *ngIf="form.controls['passwordCtrl'].touched && !form.controls['passwordCtrl'].valid">
          <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('required')">
            Password is required.
          </div>
          <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('minlength')">
            Password must contain at least 3 characters.
          </div>
          <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('maxlength')">
            Password can not be longer than 30 characters.
          </div>
        </div>

        <button class="btn btn-primary btn-lg" type="submit" [disabled]='!form.valid'>Add doctor</button>

      </form>

    </div>

    <div *ngIf="loading" class="container">
      <div class="offset-5 col-lg-5 loader"></div>
    </div>

  </div>
