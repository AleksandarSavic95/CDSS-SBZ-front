<div class="container">

  <div *ngIf="!loading">

    <div class="alert alert-danger" *ngIf="errorMessage" style="padding: 10px;">
      {{errorMessage}}
    </div>
    <div class="alert alert-success" *ngIf="message" style="padding: 10px;">
      {{message}}
    </div>

    <div class="row">
      <div class="col-sm-3">
        <span class="my-h1">New patient</span>
      </div>

      <div class="col-sm-3 mar-top-10">
        <div class="form-group">
          <input type="text"
                 id="name"
                 name="name"
                 [(ngModel)]="name"
                 class="form-control"
                 placeholder="Patient name">
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group mar-top-10">
          <input type="text"
                 id="medical-card-number"
                 name="medical-card-number"
                 [(ngModel)]="medicalCardNumber"
                 class="form-control"
                 placeholder="Medical ID">
        </div>
      </div>

      <div class="col-sm-2 mar-top-10">
        <button class="btn btn-primary" (click)="addPatient()">Add patient</button>
      </div>
    </div>

    <div class="row">

      <div class="col-sm-3">

        <h4>Alergen ingredients:</h4>
        <div style="margin-bottom: 10px;">
          <input #ingredientsSearch id="ing-search" (keyup)="filterIngredients(ingredientsSearch.value)" class="form-control" placeholder="Filter"/>
        </div>
        <div class="scrollable-div">
          <div *ngFor="let ingredient of ingredients">
            <button class="btn btn-outline-secondary btn-block" value="ingredient" (click)="addIngredient(ingredient)" style="margin-bottom: 5px;">
              {{ingredient.name}}
            </button>
          </div>
        </div>

      </div>

      <div class="col-sm-3">
        <h4>Added alergen ingredients: <span style="font-size: 16px; font-weight: 100;">(click to remove)</span></h4>
        <div class="scrollable-div">
          <div *ngFor="let alergenIngredient of alergenIngredients">
            <button class="btn btn-outline-danger btn-block" value="alergenIngredient" (click)="removeIngredient(alergenIngredient)" style="margin-bottom: 5px;">
              {{alergenIngredient.name}}
            </button>
          </div>
        </div>
      </div>

      <div class="col-sm-3">
        <h4>Alergen medicines:</h4>
        <!-- Filter Field -->
        <div style="margin-bottom: 10px;">
          <input #medicinesSearch id="med-search" (keyup)="filterMedicines(medicinesSearch.value)" class="form-control" placeholder="Filter"/>
        </div>
        <div class="scrollable-div">
          <div *ngFor="let medicine of medicines">
            <button class="btn btn-outline-secondary btn-block" value="medicine" (click)="addMedicine(medicine)" style="margin-bottom: 5px;">
              {{medicine.name}}
            </button>
          </div>
        </div>
      </div>

      <div class="col-sm-3">
        <h4>Added alergen medicines: <span style="font-size: 16px; font-weight: 100;">(click to remove)</span></h4>
        <div class="scrollable-div">
          <div *ngFor="let alergenMedicine of alergenMedicines">
            <button class="btn btn-outline-danger btn-block" value="alergenMedicine" (click)="removeMedicine(alergenMedicine)" style="margin-bottom: 5px;">
              {{alergenMedicine.name}}
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div *ngIf="loading" class="container">
    <div class="offset-5 col-lg-5 loader"></div>
  </div>

</div>
